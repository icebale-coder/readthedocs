title: apt

# Advanced Packaging Tool (APT)

* Набор утилит для управления программными пакетами в операционных системах основанных на Debian  

* дружественную надстройку над DPKG и позволяет:

  

  * устанавливать, удалять и обновлять пакеты
  * решать зависимости  
  * искать пакеты по заданным критериям
  * просматривать подробную информацию о пакете
  * манипулировать ключами от репозиториев

## **Настройки**

Директория программы - *__/etc/apt__*

* #### apt.conf (/etc/apt/)

  Основной файл настроек, используемый всеми инструментами из состава APT. Описание всех возможных настроек и опций можно прочитать в документации к нему:

* #### apt.conf.d

  Директория содержащая в себе файлы конфигурации, аналогичные по синтаксису [apt.conf](https://help.ubuntu.ru/wiki/apt#aptconf). При помощи этой директории можно быстро и удобно манипулировать настройками APT добавляя или удаляя подготовленные файлы с настройками.

* #### auth.conf

  Файл, содержащий ключи, для авторизации в репозиториях. Например, туда добавляются логины и пароли от репозиториев к купленным в *Центре приложений* программам.

* #### sources.list (/etc/apt/)

  Файл с перечнем репозиториев.

* #### sources.list.d

  Директория с файлами репозиторий, по назначению аналогичных sources.list. Каждый репозиторий описывается в отдельном файле.

  

## **Использование**

**apt-get** это утилита управления пакетами (***требуются root права***).

Основные команды:

- **`update`** - Обновить информацию о пакетах, содержащихся в репозиториях.
- **`upgrade`** - Обновление пакетов, для которых в репозитории доступны новые версии.
- **`dist-upgrade`** - Обновление пакетов, требующих разрешения зависимостей (установка дополнительных или удаление конфликтующих пакетов).
- **`autoremove`** - Удаление пакета, который более не нужен в системе. Используется для очистки системы от ненужных пакетов. Факт, что пакет более не нужен, определяется следующим образом: если пакет был установлен не сам по себе, а как зависимость для другого пакета, который впоследствии был удалён, значит этот пакет тоже уже не нужен в системе.

Целенаправленные:

- **`install foo`** - Установить пакет foo. Скачивание, установка и настройка происходят автоматически. Если для настройки пакета foo нужны дополнительные сведения, будет показан запрос к пользователю.
- **`remove foo`** - Удаление пакета foo из системы.
- **`purge foo`** - Удаление пакета foo и очистка системы от его конфигурационных файлов. Файлы настроек в домашних каталогах пользователей *удалены не будут*.
- **`source foo`** - Получение исходных текстов пакета foo.
- **`build-dep foo`** - Получение зависимостей для сборки пакета foo.

#### **Починка базы пакетов**

apt-get также используется для устранения сбоев в базе пакетов вызванных нарушенными зависимостями. Разрешение зависимостей производится командой:

```bash
sudo apt-get install -f
```



**apt-cache** – утилита, позволяющая выполнять запросы к кешу APT.

Основные команды:

- **`search`** - Поиск пакета по части названия или описания. Поддерживает регулярные выражения.
- **`show`** - Информация о пакете: версия, размер, описание и т. п.
- **`depends`** - Зависимости указанного пакета.
- **`rdepends`** - Обратные зависимости пакета.



**apt-key** служит для добавления ключей от репозиториев в систему. Ключи защищают репозитории от возможности подделки пакета.

Основные команды:

- **`add`** - Добавление ключа в базу доверенных ключей.
- **`del`** - Удаление ключа из доверенных.